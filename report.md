## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∏—Ö —Å–∏–≥–Ω–∞–ª—ñ–≤

| üî¶ –°–∏–≥–Ω–∞–ª                                                          | –Ñ / –ù–µ–º–∞—î | –ö–æ–º–µ–Ω—Ç–∞—Ä                                                                                                             |
| ------------------------------------------------------------------ | --------- | -------------------------------------------------------------------------------------------------------------------- |
| OpenAPI / Swagger-—Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—è —è–∫ –∫–æ–Ω—Ç—Ä–∞–∫—Ç                         | ‚ùå        | FastAPI —î, –∞–ª–µ –Ω–µ–º–∞—î —Ç–∏–ø—ñ–∑–æ–≤–∞–Ω–∏—Ö –º–æ–¥–µ–ª–µ–π —ñ `response_model`, —Ç–æ–º—É –∫–æ–Ω—Ç—Ä–∞–∫—Ç ‚Äú–Ω–µ —Å–≤—ñ—Ç–∏—Ç—å—Å—è‚Äù –¥–ª—è DAST/contract testing. |
| –¢–∏–ø—ñ–∑–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö (Pydantic / DTO)                                   | ‚ùå        | –í—Ö—ñ–¥/–≤–∏—Ö—ñ–¥ –Ω–µ –æ–ø–∏—Å–∞–Ω—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ ‚Üí SAST/semgrep –Ω–µ –±–∞—á–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç—É user input.                                     |
| Policy-as-Code (OPA/Rego / conftest)                               | ‚ùå        | –ü–æ–ª—ñ—Ç–∏–∫ –Ω–µ–º–∞—î —è–∫ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ñ–≤ ‚Üí –ø—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø—É/–º–∞–Ω—ñ—Ñ–µ—Å—Ç—ñ–≤ –Ω–µ–º–æ–∂–ª–∏–≤–æ —Ñ–æ—Ä–º–∞–ª—å–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏.                             |
| –õ–æ–≥—É–≤–∞–Ω–Ω—è –ø–æ–¥—ñ–π —É stdout + structured (JSON)                       | ‚ùå        | –õ–æ–≥—É–≤–∞–Ω–Ω—è –≤—ñ–¥—Å—É—Ç–Ω—î ‚Üí SIEM/–∞—É–¥–∏—Ç –Ω–µ –æ—Ç—Ä–∏–º—É—é—Ç—å —Å–∏–≥–Ω–∞–ª—ñ–≤ –≤–∑–∞—î–º–æ–¥—ñ—ó.                                                     |
| Secrets —á–µ—Ä–µ–∑ Vault / CSI / ExternalSecrets                        | ‚ùå        | –Ñ –ª–∏—à–µ `secretRef` (K8s Secret) –±–µ–∑ –∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω–æ–≥–æ –¥–∂–µ—Ä–µ–ª–∞, —Ä–æ—Ç–∞—Ü—ñ—ó —Ç–∞ –∞—É–¥–∏—Ç—É.                                      |
| CI security gates (Semgrep/SAST)                                   | ‚ùå        | CI –ª–∏—à–µ –∑–±–∏—Ä–∞—î –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –Ω–µ –±–ª–æ–∫—É—î –Ω–µ–±–µ–∑–ø–µ—á–Ω—ñ –ø–∞—Ç–µ—Ä–Ω–∏.                                                              |
| CI secrets scanning (Gitleaks)                                     | ‚ùå        | –í—ñ–¥—Å—É—Ç–Ω—ñ–π –≥–µ–π—Ç –Ω–∞ –≤–∏—Ç–æ–∫–∏ —Å–µ–∫—Ä–µ—Ç—ñ–≤ —É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó.                                                                     |
| SBOM (Syft)                                                        | ‚ùå        | –ù–µ –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è ‚Üí —Å–∫–ª–∞–¥ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—É –Ω–µ–ø—Ä–æ–∑–æ—Ä–∏–π, CVE-–∫–æ–Ω—Ç—Ä–æ–ª—å —Å–ª–∞–±–∫–∏–π.                                                   |
| CVE/image scanning (Trivy/Grype)                                   | ‚ùå        | –û–±—Ä–∞–∑ –Ω–µ —Å–∫–∞–Ω—É—î—Ç—å—Å—è ‚Üí —É—Ä–∞–∑–ª–∏–≤–æ—Å—Ç—ñ –Ω–µ –±–ª–æ–∫—É—é—Ç—å—Å—è –¥–æ —Ä–µ–ª—ñ–∑—É.                                                           |
| –ü—ñ–¥–ø–∏—Å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ñ–≤ (Cosign / provenance)                            | ‚ùå        | –ù–µ–º–∞—î —Å–∏–≥–Ω–∞–ª—É –ø–æ—Ö–æ–¥–∂–µ–Ω–Ω—è/–Ω–µ–∑–º—ñ–Ω–Ω–æ—Å—Ç—ñ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—É.                                                                      |
| IaC —è–∫ —î–¥–∏–Ω–µ –¥–∂–µ—Ä–µ–ª–æ –ø—Ä–∞–≤–¥–∏                                        | ‚úÖ        | Terraform –ø—Ä–∏—Å—É—Ç–Ω—ñ–π (`main.tf`, `variables.tf`), –∞–ª–µ –±–µ–∑ IaC-–≥–µ–π—Ç—ñ–≤ –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–µ –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–∏–π.                        |
| IaC security scanning (tfsec/checkov)                              | ‚ùå        | –ù–µ–º–∞—î –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫ IaC —É CI, —Ç–æ–º—É `0.0.0.0/0` –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –Ω–µ–ø–æ–º—ñ—á–µ–Ω–æ.                                                     |
| –û–±–º–µ–∂–µ–Ω–Ω—è –¥–∂–µ—Ä–µ–ª–∞ —Ç—Ä–∞—Ñ—ñ–∫—É (allowlist / SG reference)               | ‚ùå        | SG –≤—ñ–¥–∫—Ä–∏—Ç–∏–π –Ω–∞ –≤–µ—Å—å —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç (`0.0.0.0/0`).                                                                         |
| PoLP —É Kubernetes (securityContext: non-root, drop caps)           | ‚ùå        | –£ deployment –Ω–µ–º–∞—î `securityContext`, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–∂–µ –º–∞—Ç–∏ –Ω–∞–¥–ª–∏—à–∫–æ–≤—ñ –ø—Ä–∏–≤—ñ–ª–µ—ó.                                       |
| –Ü–∑–æ–ª—è—Ü—ñ—è (–º–µ—Ä–µ–∂–µ–≤–∞/—Ñ–∞–π–ª–æ–≤–∞: readOnlyRootFS, no hostPath, zones)    | ‚ùå        | –ù–µ –∑–∞–¥–∞–Ω—ñ –º–µ—Ö–∞–Ω—ñ–∑–º–∏ —ñ–∑–æ–ª—è—Ü—ñ—ó —Ç–∞ –ø–æ–ª—ñ—Ç–∏–∫–∏, —â–æ –±–ª–æ–∫—É—é—Ç—å –æ–±—Ö—ñ–¥ —à–∞–±–ª–æ–Ω—É.                                                 |
| Health/Readiness —Å–∏–≥–Ω–∞–ª–∏ (liveness+readiness —É–∑–≥–æ–¥–∂–µ–Ω—ñ –∑ —Å–µ—Ä–≤—ñ—Å–æ–º) | ‚ùå        | –ü–æ—Ä—Ç —ñ `/health` –Ω–µ —É–∑–≥–æ–¥–∂–µ–Ω—ñ –∑ Dockerfile/main.py, readiness –≤—ñ–¥—Å—É—Ç–Ω—ñ–π.                                             |
| –ó–∞—Ö–∏—Å—Ç —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ —à–∞–±–ª–æ–Ω—É (protected branches/required checks)     | ‚ùå        | –ù–µ–º–∞—î –∑–∞—Ñ—ñ–∫—Å–æ–≤–∞–Ω–∏—Ö –≤–∏–º–æ–≥, —â–æ –≥–µ–π—Ç–∏ –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤—ñ —Ç–∞ –Ω–µ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤–∏–º–∫–Ω–µ–Ω—ñ.                                           |

# main.py

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 1: –í—ñ–¥—Å—É—Ç–Ω—ñ–π OpenAPI-–∫–æ–Ω—Ç—Ä–∞–∫—Ç —è–∫ –ø–µ—Ä–µ–≤—ñ—Ä—é–≤–∞–Ω–∏–π —Å–∏–≥–Ω–∞–ª (–Ω–µ–º–∞—î response_model —ñ —Ç–∏–ø—ñ–≤)

–§–∞–π–ª: main.py
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: FastAPI –∑–≥–µ–Ω–µ—Ä—É—î /docs, –∞–ª–µ –±–µ–∑ —Ç–∏–ø—ñ–∑–æ–≤–∞–Ω–∏—Ö –º–æ–¥–µ–ª–µ–π —ñ response_model –∫–æ–Ω—Ç—Ä–∞–∫—Ç –Ω–µ –º–∞—î —Å—Ç—Ä—É–∫—Ç—É—Ä–∏. DAST/contract testing/fuzzing –Ω–µ –º–∞—é—Ç—å ‚Äú—Å–∏–≥–Ω–∞–ª—É‚Äù, —â–æ —Å–∞–º–µ –æ—á—ñ–∫—É–≤–∞—Ç–∏ –π —è–∫ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –∑–º—ñ–Ω–∏.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: –°–∏–≥–Ω–∞–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ API (OpenAPI), –¢–∏–ø—ñ–∑–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö (Pydantic), ‚Äú–Ω–µ–≤–∏–¥–∏–º—ñ—Å—Ç—å‚Äù.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –í–≤–µ—Å—Ç–∏ Pydantic DTO (UserOut, LoginIn, LoginOut), —Ç–∏–ø—ñ–∑—É–≤–∞—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ (id: int/UUID), –¥–æ–¥–∞—Ç–∏ response_model=..., –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ OpenAPI schema —è–∫ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç —ñ –¥–æ–¥–∞—Ç–∏ –≥–µ–π—Ç OpenAPI diff —É CI.

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 2: –í—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ –±–µ–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ ‚Üí SAST/semgrep ‚Äú–Ω–µ –±–∞—á–∏—Ç—å‚Äù user input

–§–∞–π–ª: main.py
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: data = request.json() –±–µ–∑ DTO –æ–∑–Ω–∞—á–∞—î, —â–æ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –Ω–µ –º–æ–∂—É—Ç—å —Ä–æ–∑–ø—ñ–∑–Ω–∞—Ç–∏ –ø–æ–ª—è —è–∫ user input —ñ –Ω–µ –º–æ–∂—É—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é. –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–æ –Ω–µ–º–∞—î —Å–∏–≥–Ω–∞–ª—É ‚Äú—Ü–µ –≤—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ‚Äù.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: –¢–∏–ø—ñ–∑–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö (DTO, Pydantic) ‚Üí —Å–∏–≥–Ω–∞–ª –¥–ª—è Semgrep/SAST, ‚Äú—É–º–æ–≤–∏, –±–µ–∑ —è–∫–∏—Ö –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–µ –ø—Ä–∞—Ü—é—î‚Äù.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –ü—Ä–∏–π–º–∞—Ç–∏ —Ç—ñ–ª–æ —è–∫ payload: LoginIn (Pydantic), –¥–æ–¥–∞—Ç–∏ –æ–±–º–µ–∂–µ–Ω–Ω—è (min/max), —è–≤–Ω–æ –≤–∞–ª—ñ–¥–æ–≤—É–≤–∞—Ç–∏, –∑—Ä–æ–±–∏—Ç–∏ handler –∫–æ—Ä–µ–∫—Ç–Ω–∏–º (–±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥—É).

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 3: –õ–æ–≥—ñ–∫–∞ –¥–æ—Å—Ç—É–ø—É/–∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –∑–∞—Ö–∞—Ä–¥–∫–æ–¥–∂–µ–Ω–∞ (–ø–∞—Ä–æ–ª—å "secret") ‚Üí –Ω–µ–º–∞—î –∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω–æ–≥–æ –º–µ—Ö–∞–Ω—ñ–∑–º—É secret management

–§–∞–π–ª: main.py
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: –°–µ–∫—Ä–µ—Ç —É –∫–æ–¥—ñ ‚Äî —Ü–µ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —Å–∏–≥–Ω–∞–ª—É ‚Äúsecrets –≤–∏–Ω–µ—Å–µ–Ω—ñ –Ω–∞–∑–æ–≤–Ω—ñ‚Äù. –ù–µ–º–æ–∂–ª–∏–≤–∞ —Ä–æ—Ç–∞—Ü—ñ—è/–∞—É–¥–∏—Ç, –ª–µ–≥–∫–æ –æ–±—ñ–π—Ç–∏ –∫–æ–Ω—Ç—Ä–æ–ª—å.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: Vault CSI –¥–ª—è secrets, ‚ÄúSecure by Design: –Ω–∞—è–≤–Ω—ñ—Å—Ç—å —Å–∏–≥–Ω–∞–ª—ñ–≤‚Äù, PoLP.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –í–∏–Ω–µ—Å—Ç–∏ —Å–µ–∫—Ä–µ—Ç —É Vault/Secrets Manager, –¥–æ—Å—Ç–∞–≤–ª—è—Ç–∏ —á–µ—Ä–µ–∑ Vault CSI/ExternalSecrets, –Ω–µ —Ç—Ä–∏–º–∞—Ç–∏ —Å–µ–∫—Ä–µ—Ç–∏ –≤ –∫–æ–¥—ñ/–æ–±—Ä–∞–∑—ñ, –¥–æ–¥–∞—Ç–∏ gitleaks —É CI —è–∫ –≥–µ–π—Ç.

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 4: –í—ñ–¥—Å—É—Ç–Ω—è Policy-as-Code –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—é –¥–æ—Å—Ç—É–ø—É ‚Üí OPA –Ω–µ –º–æ–∂–µ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞

–§–∞–π–ª: main.py
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: –î–æ—Å—Ç—É–ø–∏ –Ω–µ –æ–ø–∏—Å–∞–Ω—ñ —è–∫ –æ–∫—Ä–µ–º–∏–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç (–ø–æ–ª—ñ—Ç–∏–∫–∞). –Ø–∫—â–æ –∑‚Äô—è–≤–∏—Ç—å—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è ‚Äúif role == admin‚Äù —É –∫–æ–¥—ñ ‚Äî –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –Ω–µ –¥–∞—Å—Ç—å OPA/Conftest —Å–∏–≥–Ω–∞–ª—É –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: Policy-as-Code (OPA/Rego), ‚Äú–ø–æ–ª—ñ—Ç–∏–∫–∞ —è–∫ –æ–±‚Äô—î–∫—Ç‚Äù, ‚Äú–Ω–µ–≤–∏–¥–∏–º—ñ—Å—Ç—å –ø–æ–ª—ñ—Ç–∏–∫–∏ –≤ –∫–æ–¥—ñ‚Äù.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –í–∏–Ω–µ—Å—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø—É –≤ policy-—à–∞—Ä: Depends(check_access) + Rego (OPA), –¥–æ–¥–∞—Ç–∏ conftest/OPA —Ç–µ—Å—Ç–∏ –≤ CI, —â–æ–± –±—É–¥—å-—è–∫–∞ –∑–º—ñ–Ω–∞ –ø—Ä–∞–≤–∏–ª –¥–∞–≤–∞–ª–∞ deny.

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 5: –í—ñ–¥—Å—É—Ç–Ω—ñ —Å–∏–≥–Ω–∞–ª–∏ –≤–∑–∞—î–º–æ–¥—ñ—ó (—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—ñ –ª–æ–≥–∏ —É stdout) ‚Üí SIEM ‚Äú—Å–ª—ñ–ø–∏–π‚Äù

–§–∞–π–ª: main.py
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: –ù–µ–º–∞—î —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–æ–≥–æ –ª–æ–≥—É–≤–∞–Ω–Ω—è —Ç–∞ audit trail (—É—Å–ø—ñ—à–Ω—ñ/–Ω–µ—É—Å–ø—ñ—à–Ω—ñ –ª–æ–≥—ñ–Ω–∏). –ë–µ–∑ JSON-–ª–æ–≥—ñ–≤ —É stdout –Ω–µ–º–∞—î —Å–∏–≥–Ω–∞–ª—ñ–≤ –¥–ª—è –∑–±–æ—Ä—É/–∞–Ω–∞–ª—ñ–∑—É, –Ω–µ–º–æ–∂–ª–∏–≤–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —ñ —Ä–µ–∞–∫—Ü—ñ—è.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: –°–∏–≥–Ω–∞–ª–∏ –≤–∑–∞—î–º–æ–¥—ñ—ó (—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—ñ –ª–æ–≥–∏), ‚Äú—è–∫—â–æ –ø–æ–¥—ñ—è –Ω–µ –∑–∞–ª–∏—à–∞—î —Å–ª—ñ–¥—É ‚Äî —ó—ó –Ω–µ —ñ—Å–Ω—É—î‚Äù.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –î–æ–¥–∞—Ç–∏ structured logging (structlog/OTel) —É stdout, –¥–æ–¥–∞—Ç–∏ –∫–æ—Ä–µ–ª—è—Ü—ñ—é request_id, –ª–æ–≥—É–≤–∞—Ç–∏ security-–ø–æ–¥—ñ—ó –±–µ–∑ —á—É—Ç–ª–∏–≤–∏—Ö –¥–∞–Ω–∏—Ö.

# deployment.yaml

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 1: Secrets —á–µ—Ä–µ–∑ secretRef –±–µ–∑ Vault/CSI ‚Üí –≤—ñ–¥—Å—É—Ç–Ω—ñ–π —Å–∏–≥–Ω–∞–ª –∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω–æ–≥–æ –¥–∂–µ—Ä–µ–ª–∞ —Å–µ–∫—Ä–µ—Ç—ñ–≤

–§–∞–π–ª: deployment.yaml
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: envFrom.secretRef –Ω–µ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ —Å–µ–∫—Ä–µ—Ç–∏ –ø–æ—Ö–æ–¥—è—Ç—å –∑ Vault/Secrets Manager —ñ –ø—Ä–æ—Ö–æ–¥—è—Ç—å –∞—É–¥–∏—Ç/—Ä–æ—Ç–∞—Ü—ñ—é. –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –Ω–µ ‚Äú—Å–≤—ñ—Ç–∏—Ç—å—Å—è‚Äù –¥–ª—è –ø–æ–ª—ñ—Ç–∏–∫ secrets management.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: Vault CSI –¥–ª—è secrets, ‚Äú–∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∞ –æ–ø–æ—Ä–∞ ‚Üí –¥–∞—î –∫–æ–Ω—Ç—Ä–æ–ª—å‚Äù, –ø—Ä–∏–º—ñ—Ç–∫–∞ –ø—Ä–æ CSI/secretObjects.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ Vault CSI (volumes.csi + SecretProviderClass) –∞–±–æ ExternalSecrets; –¥–æ–¥–∞—Ç–∏ policy-as-code, —â–æ –±–ª–æ–∫—É—î plaintext/env.value —Ç–∞ –Ω–µ–∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω—ñ —Å–µ–∫—Ä–µ—Ç–∏.

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 2: –ù–µ–º–∞—î securityContext ‚Üí –ø–æ—Ä—É—à–µ–Ω–Ω—è PoLP —Ç–∞ runtime-—ñ–∑–æ–ª—è—Ü—ñ—ó (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–∂–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –Ω–∞–¥–ª–∏—à–∫–æ–≤–∏–º–∏ –ø—Ä–∞–≤–∞–º–∏)

–§–∞–π–ª: deployment.yaml
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: –í—ñ–¥—Å—É—Ç–Ω—ñ runAsNonRoot, readOnlyRootFilesystem, allowPrivilegeEscalation: false, capabilities.drop. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –Ω–∞–≤—ñ—Ç—å –Ω–µ–≤–µ–ª–∏–∫–∞ –≤—Ä–∞–∑–ª–∏–≤—ñ—Å—Ç—å –º–æ–∂–µ –¥–∞—Ç–∏ –µ—Å–∫–∞–ª–∞—Ü—ñ—é —ñ lateral movement.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: PoLP, –Ü–∑–æ–ª—è—Ü—ñ—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ (filesystem/runtime), ‚Äú–∫–æ–Ω—Ç—Ä–æ–ª—å —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ —á–µ—Ä–µ–∑ policy‚Äù.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –î–æ–¥–∞—Ç–∏ container/pod securityContext, seccomp RuntimeDefault, drop ALL caps; –∑–∞–∫—Ä—ñ–ø–∏—Ç–∏ —á–µ—Ä–µ–∑ OPA/Kyverno deny-–ø—Ä–∞–≤–∏–ª–∞.

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 3: –ù–µ–º–∞—î readinessProbe ‚Üí –≤—ñ–¥—Å—É—Ç–Ω—ñ–π —Å–∏–≥–Ω–∞–ª ‚Äú–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ‚Äù (–∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω—ñ—Å—Ç—å –µ–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—ó)

–§–∞–π–ª: deployment.yaml
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: –Ñ –ª–∏—à–µ liveness. –ë–µ–∑ readiness –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –Ω–µ –º–∞—î —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–æ–≥–æ —Å–∏–≥–Ω–∞–ª—É, –∫–æ–ª–∏ pod —Ä–µ–∞–ª—å–Ω–æ –≥–æ—Ç–æ–≤–∏–π –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞—Ç–∏ —Ç—Ä–∞—Ñ—ñ–∫.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: –°–∏–≥–Ω–∞–ª–∏ –≤–∑–∞—î–º–æ–¥—ñ—ó/–µ–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—ó, ‚Äú–∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω—ñ—Å—Ç—å‚Äù.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –î–æ–¥–∞—Ç–∏ readinessProbe (—ñ –∑–∞ –ø–æ—Ç—Ä–µ–±–∏ startupProbe), –≤–∏–∑–Ω–∞—á–∏—Ç–∏ —á—ñ—Ç–∫—ñ –∫—Ä–∏—Ç–µ—Ä—ñ—ó –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ.

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 4: –ù–µ–≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å –ø–æ—Ä—Ç—ñ–≤/endpoint-—ñ–≤ –¥–ª—è –ø—Ä–æ–± ‚Üí —Å–∏—Å—Ç–µ–º–∞ ‚Äú–º–æ–≤—á–∏—Ç—å‚Äù –ø—Ä–æ —Å—Ç–∞–Ω (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Å–∏–≥–Ω–∞–ª)

–§–∞–π–ª: deployment.yaml
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: –£ YAML containerPort: 8080 —ñ probe –Ω–∞ :8080 /health, —Ç–æ–¥—ñ —è–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –Ω–∞ 8000, –∞ /health —É –∫–æ–¥—ñ –≤—ñ–¥—Å—É—Ç–Ω—ñ–π. –†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî —Ñ–∞–ª—å—à–∏–≤—ñ —Ä–µ—Å—Ç–∞—Ä—Ç–∏, –Ω–µ–º–∞—î –∫–æ—Ä–µ–∫—Ç–Ω–æ–≥–æ —Å–∏–≥–Ω–∞–ª—É —Å—Ç–∞–Ω—É.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: ‚Äú—É–º–æ–≤–∏, –±–µ–∑ —è–∫–∏—Ö –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–µ –ø—Ä–∞—Ü—é—î‚Äù, —Å–∏–≥–Ω–∞–ª–∏ –µ–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—ó, Secure by Design (–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –º–∞—î —Å–ø—Ä–∞—Ü—å–æ–≤—É–≤–∞—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ).
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –£–Ω—ñ—Ñ—ñ–∫—É–≤–∞—Ç–∏ –ø–æ—Ä—Ç —É Dockerfile/Deployment, –¥–æ–¥–∞—Ç–∏ /health —É —Å–µ—Ä–≤—ñ—Å, –¥–æ–¥–∞—Ç–∏ smoke-test —É CI (run container + curl health).

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 5: –í—ñ–¥—Å—É—Ç–Ω—ñ–π Policy-as-Code –≥–µ–π—Ç –Ω–∞ –º–∞–Ω—ñ—Ñ–µ—Å—Ç–∏ ‚Üí –∑–º—ñ–Ω–∏ –º–æ–∂—É—Ç—å –æ–±—ñ–π—Ç–∏ –∫–æ–Ω—Ç—Ä–æ–ª—å

–§–∞–π–ª: deployment.yaml
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: –ù–µ–º–∞—î OPA/Conftest/Kyverno –ø—Ä–∞–≤–∏–ª, —è–∫—ñ –± –±–ª–æ–∫—É–≤–∞–ª–∏ –Ω–µ–±–µ–∑–ø–µ—á–Ω—ñ –∑–º—ñ–Ω–∏ (hostPath, hostNetwork, privileged, env.value). –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –Ω–µ –º–∞—î ‚Äú–∑–∞–º–∫–∞ —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ‚Äù –¥–ª—è —à–∞–±–ª–æ–Ω—É.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: Policy-as-Code —è–∫ ‚Äú–∑–∞–º–æ–∫‚Äù —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ, ‚ÄúCI/CD-–≥–µ–π—Ç–∏ ‚Äî –≥–∞—Ä–∞–Ω—Ç–∏ –Ω–µ–∑–º—ñ–Ω–Ω–æ—Å—Ç—ñ‚Äù.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –î–æ–¥–∞—Ç–∏ conftest/OPA –∞–±–æ Kyverno –ø–æ–ª—ñ—Ç–∏–∫–∏ –¥–ª—è K8s manifests; –∑—Ä–æ–±–∏—Ç–∏ —ó—Ö required —É CI.

# ci.yml

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 1: –Ñ –ª–∏—à–µ build ‚Üí –≤—ñ–¥—Å—É—Ç–Ω—ñ –≥–µ–π—Ç–∏ –±–µ–∑–ø–µ–∫–∏ (–ø–∞–π–ø–ª–∞–π–Ω –Ω–µ —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç—É—î –ø–æ—Ä—É—à–µ–Ω–Ω—è)

–§–∞–π–ª: ci.yml
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: Pipeline –Ω–µ —Å—Ç–≤–æ—Ä—é—î —Å–∏–≥–Ω–∞–ª—ñ–≤ —ñ –Ω–µ –∑—É–ø–∏–Ω—è—î —Ä–µ–ª—ñ–∑ –ø—Ä–∏ –ø–æ—Ä—É—à–µ–Ω–Ω—è—Ö (–Ω–µ–º–∞—î –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è ‚Äú—â–æ —Ç–∞–∫–µ –ø–æ—Ä—É—à–µ–Ω–Ω—è‚Äù). –¶–µ –Ω–µ Secure by Design, –∞ ‚Äú—Ä—É—á–Ω–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞‚Äù.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: Secure by Design: –ª–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–æ—á–æ–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ + —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ (fail pipeline).
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –î–æ–¥–∞—Ç–∏ jobs –∑ exit-on-fail –¥–ª—è SAST, secrets, IaC, SBOM/CVE, policy tests.

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 2: –ù–µ–º–∞—î secrets scanning ‚Üí –≤—ñ–¥—Å—É—Ç–Ω—ñ–π —Å–∏–≥–Ω–∞–ª –≤–∏—Ç–æ–∫—É (gitleaks –º–æ–≤—á–∏—Ç—å, –±–æ –π–æ–≥–æ –Ω–µ–º–∞—î)

–§–∞–π–ª: ci.yml
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: –Ø–∫—â–æ —Å–µ–∫—Ä–µ—Ç –ø–æ—Ç—Ä–∞–ø–∏—Ç—å —É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π ‚Äî –ø–∞–π–ø–ª–∞–π–Ω –Ω–µ –¥–∞—Å—Ç—å –∂–æ–¥–Ω–æ–≥–æ —Å–∏–≥–Ω–∞–ª—É —ñ –Ω–µ –∑—É–ø–∏–Ω–∏—Ç—å –∑–º—ñ–Ω–∏.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: –°–∏–≥–Ω–∞–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤/–ø–µ—Ä–µ–≤—ñ—Ä–∫–∏, –ø—Ä–∏–∫–ª–∞–¥ –ø—Ä–æ secret.txt —Ç–∞ gitleaks.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –î–æ–¥–∞—Ç–∏ gitleaks —è–∫ –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–∏–π –≥–µ–π—Ç –ø–µ—Ä–µ–¥ build/merge.

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 3: –ù–µ–º–∞—î SAST (semgrep) ‚Üí –Ω–µ–º–∞—î —Å–∏–≥–Ω–∞–ª—É ‚Äú–≤—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ/–≤–∞–ª—ñ–¥–∞—Ü—ñ—è/–ø–∞—Ç–µ—Ä–Ω–∏‚Äù

–§–∞–π–ª: ci.yml
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: –ë–µ–∑ semgrep –ø–∞–π–ø–ª–∞–π–Ω –Ω–µ –º–æ–∂–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑—á–∏—Ç—É–≤–∞—Ç–∏ —Å–∏–≥–Ω–∞–ª–∏ —Ç–∏–ø—ñ–∑–∞—Ü—ñ—ó/–≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –π –ª–æ–≤–∏—Ç–∏ –Ω–µ–±–µ–∑–ø–µ—á–Ω—ñ –ø–∞—Ç–µ—Ä–Ω–∏.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: –¢–∏–ø—ñ–∑–∞—Ü—ñ—è —è–∫ —Å–∏–≥–Ω–∞–ª –¥–ª—è Semgrep/SAST, ‚Äú–∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–≤–∏–Ω–Ω–∞ –ø—Ä–æ–¥—É–∫—É–≤–∞—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—ñ –æ–±‚Äô—î–∫—Ç–∏‚Äù.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –î–æ–¥–∞—Ç–∏ semgrep –∑ –ø—Ä–∞–≤–∏–ª–∞–º–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, p/ci), –ø–∞–¥–∞—Ç–∏ –ø—Ä–∏ findings, –≤–∏–º–∞–≥–∞—Ç–∏ —Ç–∏–ø—ñ–∑–æ–≤–∞–Ω—ñ DTO.

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 4: –ù–µ–º–∞—î SBOM ‚Üí Trivy/CVE-–≥–µ–π—Ç–∏ –Ω–µ –º–∞—é—Ç—å –ø—Ä–µ–¥–º–µ—Ç–∞ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏

–§–∞–π–ª: ci.yml
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: –ë–µ–∑ SBOM —Å–∫–∞–Ω–µ—Ä–∏ –Ω–µ –º–∞—é—Ç—å –ø—Ä–æ–∑–æ—Ä–æ–≥–æ —Å–∫–ª–∞–¥—É –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π/–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤; –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ supply chain —Å–ª–∞–±–∫–∞ –∞–±–æ –Ω–µ–ø–æ–≤–Ω–∞.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: SBOM —è–∫ —Å–∏–≥–Ω–∞–ª –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤, ‚ÄúTrivy –Ω–µ –∞–Ω–∞–ª—ñ–∑—É—î –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ, —è–∫—â–æ –Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–æ SBOM‚Äù.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –î–æ–¥–∞—Ç–∏ syft –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó SBOM —ñ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —è–∫ artifact; –¥–æ–¥–∞—Ç–∏ CVE-–≥–µ–π—Ç (trivy/grype) –ø–æ SBOM/–æ–±—Ä–∞–∑—É.

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 5: –ù–µ–º–∞—î IaC/policy –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫ ‚Üí –Ω–µ–±–µ–∑–ø–µ—á–Ω—ñ –º–∞–Ω—ñ—Ñ–µ—Å—Ç–∏/terraform –º–æ–∂—É—Ç—å –ø—Ä–æ–π—Ç–∏ –Ω–µ–ø–æ–º—ñ—á–µ–Ω–æ

–§–∞–π–ª: ci.yml
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: –ë–µ–∑ tfsec/checkov/conftest –º–æ–∂–Ω–∞ –∑–º–µ—Ä–¥–∂–∏—Ç–∏ 0.0.0.0/0, privileged pod, hostPath —Ç–æ—â–æ. –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –Ω–µ –∑–∞—Ö–∏—â–∞—î —Ü—ñ–ª—ñ—Å–Ω—ñ—Å—Ç—å —à–∞–±–ª–æ–Ω—É.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: IaC —è–∫ —î–¥–∏–Ω–µ –¥–∂–µ—Ä–µ–ª–æ –ø—Ä–∞–≤–¥–∏, Policy-as-Code, ‚Äú–≥–µ–π—Ç–∏ ‚Äî –≥–∞—Ä–∞–Ω—Ç–∏ –Ω–µ–∑–º—ñ–Ω–Ω–æ—Å—Ç—ñ‚Äù.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –î–æ–¥–∞—Ç–∏ tfsec/checkov –¥–ª—è Terraform, conftest/OPA –¥–ª—è YAML/Helm; –∑—Ä–æ–±–∏—Ç–∏ required checks —É protected branches.

# main.tf

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 1: –í—ñ–¥–∫—Ä–∏—Ç–∏–π ingress 0.0.0.0/0 ‚Üí –ø–æ—Ä—É—à–µ–Ω–Ω—è PoLP –Ω–∞ –º–µ—Ä–µ–∂—ñ (–¥–∂–µ—Ä–µ–ª–æ —Ç—Ä–∞—Ñ—ñ–∫—É –Ω–µ –æ–±–º–µ–∂–µ–Ω–µ)

–§–∞–π–ª: main.tf
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: –î–æ–∑–≤—ñ–ª 443 ‚Äú–∑–≤—ñ–¥—É—Å—ñ–ª—å‚Äù ‚Äî –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω–æ—ó –º–µ–∂—ñ –¥–æ—Å—Ç—É–ø—É. –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –Ω–µ –æ–±–º–µ–∂—É—î –ø–æ–≤–µ—Ä—Ö–Ω—é –∞—Ç–∞–∫–∏.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: PoLP, –º–µ—Ä–µ–∂–µ–≤–∞ —ñ–∑–æ–ª—è—Ü—ñ—è, IaC —è–∫ —Å–∏–≥–Ω–∞–ª –¥–ª—è tfsec/checkov.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –û–±–º–µ–∂–∏—Ç–∏ –¥–∂–µ—Ä–µ–ª–æ (allowlist CIDR –∞–±–æ SG –±–∞–ª–∞–Ω—Å–µ—Ä–∞), –¥–æ–¥–∞—Ç–∏ tfsec/checkov –≥–µ–π—Ç —É CI.

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 2: –†–µ–≥—ñ–æ–Ω –∑–∞—Ö–∞—Ä–¥–∫–æ–¥–∂–µ–Ω–∏–π ‚Üí –Ω–µ–º–∞—î –∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω–æ—ó –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó —è–∫ —Å–∏–≥–Ω–∞–ª—É (—à–∞–±–ª–æ–Ω –Ω–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–∏–π)

–§–∞–π–ª: main.tf
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: region = "us-east-1" —ñ–≥–Ω–æ—Ä—É—î variables.tf. –¶–µ –ø—ñ–¥—Ä–∏–≤–∞—î –∫–µ—Ä–æ–≤–∞–Ω—ñ—Å—Ç—å —Å–µ—Ä–µ–¥–æ–≤–∏—â —ñ —É—Å–∫–ª–∞–¥–Ω—é—î –ø–æ–ª—ñ—Ç–∏–∫–∏/–ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –Ω–∞ —Ä—ñ–≤–Ω—ñ —à–∞–±–ª–æ–Ω—É.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: –°–∏–≥–Ω–∞–ª–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó, IaC —è–∫ –¥–∂–µ—Ä–µ–ª–æ –ø—Ä–∞–≤–¥–∏, –∫–æ–Ω—Ç—Ä–æ–ª—å –∑–º—ñ–Ω.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ region = var.aws_region, –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑—É–≤–∞—Ç–∏ allowlist, –≤–∏–≤–æ–¥–∏—Ç–∏ –ø–ª–∞–Ω —É CI —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –ø–æ–ª—ñ—Ç–∏–∫–∞–º–∏.

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 3: –ù–µ–º–∞—î —Ç–µ–≥—ñ–≤/–º–µ—Ç–∞–¥–∞–Ω–∏—Ö ‚Üí —Å–ª–∞–±–∫–∏–π —Å–∏–≥–Ω–∞–ª —ñ–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü—ñ—ó —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ

–§–∞–π–ª: main.tf
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: –ë–µ–∑ tags –≤–∞–∂–∫–æ –∞—É–¥–∏—Ç–∏—Ç–∏ —Ä–µ—Å—É—Ä—Å–∏, –≤–ª–∞—Å–Ω–∏–∫–∞, —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ, –∫—Ä–∏—Ç–∏—á–Ω—ñ—Å—Ç—å. –¶–µ –∑–Ω–∏–∂—É—î —Å–ø–æ—Å—Ç–µ—Ä–µ–∂—É–≤–∞–Ω—ñ—Å—Ç—å —ñ –∫–µ—Ä–æ–≤–∞–Ω—ñ—Å—Ç—å –∑–º—ñ–Ω.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: –°–∏–≥–Ω–∞–ª–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó, –∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω—ñ—Å—Ç—å/–≤–∏–¥–∏–º—ñ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –î–æ–¥–∞—Ç–∏ –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤—ñ —Ç–µ–≥–∏ (owner, env, app, data-class), –∑–∞–∫—Ä—ñ–ø–∏—Ç–∏ –ø–æ–ª—ñ—Ç–∏–∫–æ—é (OPA/terraform policy/checkov custom).

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 4: –í—ñ–¥—Å—É—Ç–Ω—ñ–π –∫–æ–Ω—Ç—Ä–æ–ª—å –µ—Å–∫–∞–ª–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ –º–µ—Ä–µ–∂—É (–Ω–µ–º–∞—î —Å–µ–≥–º–µ–Ω—Ç–∞—Ü—ñ—ó/–∑–æ–Ω)

–§–∞–π–ª: main.tf
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: –ù–µ–º–∞—î –º–æ–¥–µ–ª—ñ –∑–æ–Ω (frontend/backend/admin), –Ω–µ–º–∞—î –ø—Ä–∞–≤–∏–ª ‚Äú—Ç—ñ–ª—å–∫–∏ —á–µ—Ä–µ–∑ ingress‚Äù. –¶–µ –ø—ñ–¥–≤–∏—â—É—î —Ä–∏–∑–∏–∫ lateral movement.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: –Ü–∑–æ–ª—è—Ü—ñ—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ (–º–µ—Ä–µ–∂–µ–≤–∞), ‚Äú–ø–æ–¥—ñ–ª–µ–Ω–Ω—è –Ω–∞ –∑–æ–Ω–∏‚Äù, —Å–∏–≥–Ω–∞–ª–∏ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ (firewall rules).
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –í–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü—ñ—é (–æ–∫—Ä–µ–º—ñ SG –¥–ª—è ALB/—Å–µ—Ä–≤—ñ—Å—É), –¥–æ–∑–≤–æ–ª–∏—Ç–∏ inbound –ª–∏—à–µ –≤—ñ–¥ ALB SG, –¥–æ–¥–∞—Ç–∏ policy –ø–µ—Ä–µ–≤—ñ—Ä–∫—É.

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 5: –ù–µ–º–∞—î –≥–µ–π—Ç—É –Ω–∞ IaC ‚Üí –ø–æ—Ä—É—à–µ–Ω–Ω—è –º–æ–∂—É—Ç—å –±—É—Ç–∏ –Ω–µ–ø–æ–º—ñ—á–µ–Ω—ñ –¥–æ –ø—Ä–æ–¥–∞–∫—à–Ω—É

–§–∞–π–ª: main.tf
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: –ù–∞–≤—ñ—Ç—å —è–∫—â–æ Terraform —î, –±–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏—Ö tfsec/checkov/OPA –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫ –≤—ñ–Ω –Ω–µ —Å—Ç–≤–æ—Ä—é—î –∫–æ–Ω—Ç—Ä–æ–ª—å. –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –Ω–µ –≥–∞—Ä–∞–Ω—Ç—É—î –∑—É–ø–∏–Ω–∫—É –ø—Ä–∏ –≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—ñ.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: ‚Äú–∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–≤–∏–Ω–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑—É–ø–∏–Ω—è—Ç–∏ –∑–º—ñ–Ω–∏‚Äù, CI/CD –≥–µ–π—Ç–∏.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –î–æ–¥–∞—Ç–∏ –≤ CI terraform fmt/validate/plan + tfsec/checkov, –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ deny –¥–ª—è 0.0.0.0/0 —Ç–∞ —ñ–Ω—à–∏—Ö —Ä–∏–∑–∏–∫—ñ–≤.

# Dockerfile

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 1: –ë–∞–∑–æ–≤–∏–π –æ–±—Ä–∞–∑ –Ω–µ –∑–∞—Ñ—ñ–∫—Å–æ–≤–∞–Ω–∏–π (–Ω–µ–º–∞—î digest) ‚Üí –≤—ñ–¥—Å—É—Ç–Ω—ñ–π —Å–∏–≥–Ω–∞–ª –≤—ñ–¥—Ç–≤–æ—Ä—é–≤–∞–Ω–æ—Å—Ç—ñ/supply chain

–§–∞–π–ª: Dockerfile
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: FROM python:3.10 –∑–º—ñ–Ω—é—î—Ç—å—Å—è –∑ —á–∞—Å–æ–º. –ù–µ–º–æ–∂–ª–∏–≤–æ –≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏, —â–æ –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–∏–π –æ–±—Ä–∞–∑ —ñ —Ä–µ–ª—ñ–∑–Ω–∏–π ‚Äî –æ–¥–Ω–∞–∫–æ–≤—ñ.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: –°–∏–≥–Ω–∞–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤, supply chain, ‚Äú–∫–æ–Ω—Ç—Ä–æ–ª—å –ø–æ—Ö–æ–¥–∂–µ–Ω–Ω—è‚Äù.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –ü—ñ–Ω–∏—Ç–∏ base image –ø–æ digest (python:3.10@sha256:...), –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ PR + —Å–∫–∞–Ω.

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 2: –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—é—Ç—å—Å—è –±–µ–∑ –¥–µ–∫–ª–∞—Ä–∞—Ü—ñ—ó (–Ω–µ–º–∞—î requirements/lock) ‚Üí SBOM –Ω–µ —Ñ–æ—Ä–º—É—î—Ç—å—Å—è —è–∫ —Å—Ç–∞–±—ñ–ª—å–Ω–∏–π —Å–∏–≥–Ω–∞–ª

–§–∞–π–ª: Dockerfile
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: pip install fastapi uvicorn –±–µ–∑ –≤–µ—Ä—Å—ñ–π –Ω–µ –¥–∞—î –≤—ñ–¥—Ç–≤–æ—Ä—é–≤–∞–Ω–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏, SBOM ‚Äú–ø–ª–∞–≤–∞—î‚Äù, CVE-–≥–µ–π—Ç –Ω–µ—Å—Ç–∞–±—ñ–ª—å–Ω–∏–π.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: SBOM —ñ lock-—Ñ–∞–π–ª–∏ —è–∫ —Å–∏–≥–Ω–∞–ª, –ø—Ä–∏–∫–ª–∞–¥ ‚Äúpip install x —É Bash ‚Äî ‚ùå‚Äù.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –î–æ–¥–∞—Ç–∏ requirements.txt –∑ pinned –≤–µ—Ä—Å—ñ—è–º–∏ (–∞–±–æ lock), –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ SBOM —á–µ—Ä–µ–∑ syft —É CI.

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 3: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –∑ –Ω–∞–¥–ª–∏—à–∫–æ–≤–∏–º–∏ –ø—Ä–∞–≤–∞–º–∏ (–Ω–µ–º–∞—î non-root) ‚Üí –ø–æ—Ä—É—à–µ–Ω–Ω—è PoLP —Ç–∞ —ñ–∑–æ–ª—è—Ü—ñ—ó

–§–∞–π–ª: Dockerfile
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: –ë–µ–∑ USER –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–∑–≤–∏—á–∞–π root. –¶–µ –ø—ñ–¥—Å–∏–ª—é—î –Ω–∞—Å–ª—ñ–¥–∫–∏ –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü—ñ—ó —Ç–∞ —Å–ø—Ä–æ—â—É—î –≤–∏—Ö—ñ–¥ –∑–∞ –º–µ–∂—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: PoLP, —Ñ–∞–π–ª–æ–≤–∞ —ñ–∑–æ–ª—è—Ü—ñ—è, runtime hardening —è–∫ –∫–æ–Ω—Ç—Ä–æ–ª—å.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, USER 10001, –ø–æ—î–¥–Ω–∞—Ç–∏ –∑ k8s securityContext (runAsNonRoot, drop caps).

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 4: –ù–µ–º–∞—î —Å–∏–≥–Ω–∞–ª—ñ–≤ supply chain –∫–æ–Ω—Ç—Ä–æ–ª—é (SBOM + –ø—ñ–¥–ø–∏—Å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—É)

–§–∞–π–ª: Dockerfile
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: Dockerfile —Å–∞–º –ø–æ —Å–æ–±—ñ –Ω–µ —Å—Ç–≤–æ—Ä—é—î SBOM/–ø—ñ–¥–ø–∏—Å. –Ø–∫—â–æ –ø–∞–π–ø–ª–∞–π–Ω –Ω–µ –≥–µ–Ω–µ—Ä—É—î SBOM —ñ –Ω–µ –ø—ñ–¥–ø–∏—Å—É—î –æ–±—Ä–∞–∑ ‚Äî –Ω–µ–º–∞—î –¥–æ–∫–∞–∑—É, —â–æ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –ø—Ä–æ–π—à–æ–≤ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: SBOM + cosign, ‚Äú–∫–æ–Ω—Ç—Ä–æ–ª—å –ø–æ—Ö–æ–¥–∂–µ–Ω–Ω—è (provenance)‚Äù.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –î–æ–¥–∞—Ç–∏ –≤ CI: syft SBOM, trivy/grype CVE gate, cosign –ø—ñ–¥–ø–∏—Å, –∞ –≤ –∫–ª–∞—Å—Ç–µ—Ä—ñ ‚Äî policy –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –ø—ñ–¥–ø–∏—Å—É.

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 5: –ù–µ–≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –∑–±—ñ—Ä–∫–∏ (–∫–æ–ø—ñ—é—î—Ç—å—Å—è –ª–∏—à–µ app/, –∞–ª–µ –∑–∞–ø—É—Å–∫ main:app) ‚Üí –Ω–µ–º–∞—î –ø–µ—Ä–µ–≤—ñ—Ä—é–≤–∞–Ω–æ–≥–æ ‚Äúgolden path‚Äù

–§–∞–π–ª: Dockerfile
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: COPY app /app, –∞–ª–µ —Ç–æ—á–∫–∞ –≤—Ö–æ–¥—É uvicorn main:app. –Ø–∫—â–æ main.py –Ω–µ –ø–æ—Ç—Ä–∞–ø–ª—è—î –≤ –æ–±—Ä–∞–∑ ‚Äî –∑–±—ñ—Ä–∫–∞ ‚Äú–Ω—ñ–º–∞‚Äù –¥–æ –º–æ–º–µ–Ω—Ç—É –¥–µ–ø–ª–æ—é, –∞ —Ü–µ —Ä—É–π–Ω—É—î –∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω—ñ—Å—Ç—å.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: ‚Äú–∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –º–∞—î –±—É—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä—é–≤–∞–Ω–∞ –¥–æ —Ä–µ–ª—ñ–∑—É‚Äù, –ª–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–æ—á–æ–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –ö–æ–ø—ñ—é–≤–∞—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ —Ñ–∞–π–ª–∏ (COPY . /app –∞–±–æ COPY main.py /app), –¥–æ–¥–∞—Ç–∏ CI smoke-test (–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —ñ –∑–∞–ø–∏—Ç –¥–æ /health).

# README.md

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 1: –ù–µ–º–∞—î –æ–ø–∏—Å—É ‚Äú—è–∫—ñ –≥–µ–π—Ç–∏ –º–∞—é—Ç—å –±—É—Ç–∏‚Äù ‚Üí –≤—ñ–¥—Å—É—Ç–Ω—è —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫

–§–∞–π–ª: README.md
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: –î–æ–∫—É–º–µ–Ω—Ç –∫–∞–∂–µ, —â–æ ‚Äú–ø—Ä–æ–±–ª–µ–º–∏ –Ω–∞–≤–º–∏—Å–Ω—ñ‚Äù, –∞–ª–µ –Ω–µ –≤–∏–∑–Ω–∞—á–∞—î –≤–∏–º–æ–≥–∏: —è–∫—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∫—Ä–∏—Ç–∏—á–Ω—ñ, —â–æ –≤–≤–∞–∂–∞—î—Ç—å—Å—è –ø–æ—Ä—É—à–µ–Ω–Ω—è–º, –¥–µ —Ç–æ—á–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª—é. –¶–µ –∑–Ω–∏–∂—É—î –∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω—ñ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—É.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: Secure by Design: —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ (definition of violation).
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –î–æ–¥–∞—Ç–∏ —Ä–æ–∑–¥—ñ–ª ‚ÄúSecurity gates‚Äù: gitleaks/semgrep/tfsec/syft+trivy/cosign/OPA, –∫—Ä–∏—Ç–µ—Ä—ñ—ó fail.

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 2: –í—ñ–¥—Å—É—Ç–Ω—ñ–π –æ–ø–∏—Å —Å–∏–≥–Ω–∞–ª—ñ–≤ —ñ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ñ–≤ (–¥–µ OpenAPI, –¥–µ SBOM, –¥–µ –ø–æ–ª—ñ—Ç–∏–∫–∏)

–§–∞–π–ª: README.md
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: –ù–µ –≤–∫–∞–∑–∞–Ω–æ, –¥–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —Å–∏–≥–Ω–∞–ª–∏: OpenAPI schema, policy-as-code, SBOM, –∑–≤—ñ—Ç–∏ —Å–∫–∞–Ω–µ—Ä—ñ–≤. –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º —ñ –ª—é–¥—è–º ‚Äú–Ω—ñ—á–æ–≥–æ —á–∏—Ç–∞—Ç–∏‚Äù.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: –ù–∞—è–≤–Ω—ñ—Å—Ç—å —Å–∏–≥–Ω–∞–ª—ñ–≤, –ª–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–æ—á–æ–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –û–ø–∏—Å–∞—Ç–∏ paths/–∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∏: openapi.json, sbom.spdx.json, opa/, .github/workflows/security.yml.

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 3: –ù–µ–º–∞—î —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π –∑–∞–ø—É—Å–∫—É –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫ –ª–æ–∫–∞–ª—å–Ω–æ ‚Üí –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—î —Ä—É—á–Ω–æ—é —Ç–∞ –≤–∏–±—ñ—Ä–∫–æ–≤–æ—é

–§–∞–π–ª: README.md
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: –Ø–∫—â–æ –Ω–µ–º–∞—î –∫–æ–º–∞–Ω–¥ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É (semgrep, gitleaks, tfsec), –∫–æ–Ω—Ç—Ä–æ–ª—å –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ ‚Äú—É–≤–∞–∂–Ω–æ—Å—Ç—ñ‚Äù –ª—é–¥–∏–Ω–∏.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: Secure by Design: –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–µ–∑–∞–ª–µ–∂–Ω–∞ –≤—ñ–¥ –¥—ñ–π —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –î–æ–¥–∞—Ç–∏ —Å–µ–∫—Ü—ñ—é ‚ÄúLocal checks‚Äù: –∫–æ–º–∞–Ω–¥–∏ –¥–ª—è gitleaks/semgrep/tfsec/syft/trivy —ñ –æ—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏.

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 4: –ù–µ–º–∞—î –º–æ–¥–µ–ª—ñ —ñ–∑–æ–ª—è—Ü—ñ—ó –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ (—â–æ –∫–æ–º—É –¥–æ–∑–≤–æ–ª–µ–Ω–æ) ‚Üí –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –Ω–µ –∑–∞–¥–∞—î –º–µ–∂—ñ

–§–∞–π–ª: README.md
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: –ù–µ–º–∞—î –æ–ø–∏—Å—É –∑–æ–Ω/–¥–æ—Å—Ç—É–ø—ñ–≤/—ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ —Å–µ—Ä–≤—ñ—Å—É (SA/RBAC, –º–µ—Ä–µ–∂–∞, —Å–µ–∫—Ä–µ—Ç–∏). –¶–µ —É—Å–∫–ª–∞–¥–Ω—é—î –∫–æ–Ω—Ç—Ä–æ–ª—å PoLP —Ç–∞ —ñ–∑–æ–ª—è—Ü—ñ—ó.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: –Ü–∑–æ–ª—è—Ü—ñ—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤, PoLP.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –î–æ–¥–∞—Ç–∏ –∫–æ—Ä–æ—Ç–∫—É –º–æ–¥–µ–ª—å: serviceAccount, –º—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –ø—Ä–∞–≤–∞, –º–µ—Ä–µ–∂–µ–≤—ñ –¥–∂–µ—Ä–µ–ª–∞ —Ç—Ä–∞—Ñ—ñ–∫—É, –ø—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø—É –¥–æ —Å–µ–∫—Ä–µ—Ç—ñ–≤.

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 5: –ù–µ–º–∞—î –≤–∏–º–æ–≥–∏ ‚Äú—à–∞–±–ª–æ–Ω —è–∫ —Ç–æ—á–∫–∞ –ø—Ä–∞–≤–¥–∏‚Äù —ñ –∑–∞—Ö–∏—Å—Ç—É –≤—ñ–¥ –∑–º—ñ–Ω ‚Üí –∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω—ñ—Å—Ç—å –ª–µ–≥–∫–æ –ª–∞–º–∞—î—Ç—å—Å—è

–§–∞–π–ª: README.md
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: –ù–µ –æ–ø–∏—Å–∞–Ω–æ, —â–æ CI/workflows/policies –º–∞—é—Ç—å –±—É—Ç–∏ –∑–∞—Ö–∏—â–µ–Ω—ñ (protected branches, required checks). –ë–µ–∑ —Ü—å–æ–≥–æ –º–æ–∂–Ω–∞ –≤–∏–º–∫–Ω—É—Ç–∏ –≥–µ–π—Ç–∏, —ñ —Å–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ ‚Äú—Å–≤—ñ—Ç–∏—Ç–∏—Å—è‚Äù.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: ‚Äú–®–∞–±–ª–æ–Ω —è–∫ —Ç–æ—á–∫–∞ –ø—Ä–∞–≤–¥–∏‚Äù, ‚ÄúCI/CD-–≥–µ–π—Ç–∏ ‚Äî –≥–∞—Ä–∞–Ω—Ç–∏ –Ω–µ–∑–º—ñ–Ω–Ω–æ—Å—Ç—ñ‚Äù.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –î–æ–¥–∞—Ç–∏ –≤–∏–º–æ–≥–∏: protected branches, required checks, –∑–∞–±–æ—Ä–æ–Ω–∞ –∑–º—ñ–Ω .github/workflows/\* –±–µ–∑ —Ä–µ–≤‚Äô—é, policy-as-code —Ç–µ—Å—Ç–∏.

# variables.tf

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 1: –ó–º—ñ–Ω–Ω–∞ aws_region –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ main.tf ‚Üí —Å–∏–≥–Ω–∞–ª –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –Ω–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–∏–π

–§–∞–π–ª: variables.tf
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: –û–≥–æ–ª–æ—à–µ–Ω–æ aws_region, –∞–ª–µ main.tf —Ö–∞—Ä–¥–∫–æ–¥–∏—Ç—å —Ä–µ–≥—ñ–æ–Ω. –¶–µ —Ä–æ–±–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü—ñ—é ‚Äú–º–µ—Ä—Ç–≤–æ—é‚Äù —ñ —É—Å–∫–ª–∞–¥–Ω—é—î –∫–æ–Ω—Ç—Ä–æ–ª—å —Å–µ—Ä–µ–¥–æ–≤–∏—â.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: –°–∏–≥–Ω–∞–ª–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó, IaC —è–∫ –¥–∂–µ—Ä–µ–ª–æ –ø—Ä–∞–≤–¥–∏.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ region = var.aws_region —É provider, –¥–æ–¥–∞—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ terraform validate + policy.

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 2: –ù–µ–º–∞—î –∑–º—ñ–Ω–Ω–∏—Ö –¥–ª—è –æ–±–º–µ–∂–µ–Ω–Ω—è ingress (allowlist) ‚Üí –Ω–µ–º–∞—î –∫–µ—Ä–æ–≤–∞–Ω–æ–≥–æ —Å–∏–≥–Ω–∞–ª—É PoLP –Ω–∞ –º–µ—Ä–µ–∂—ñ

–§–∞–π–ª: variables.tf
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –Ω–µ –¥–∞—î —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–ª—è –æ–±–º–µ–∂–µ–Ω–Ω—è –¥–∂–µ—Ä–µ–ª–∞ —Ç—Ä–∞—Ñ—ñ–∫—É (–Ω–µ–º–∞—î allowed_ingress_cidrs –∞–±–æ alb_sg_id). –ü–µ—Ä–µ–≤—ñ—Ä–∫–∏ –π –ø–æ–ª—ñ—Ç–∏–∫–∏ –≤–∞–∂–∫–æ –º–∞—Å—à—Ç–∞–±—É–≤–∞—Ç–∏.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: PoLP, –º–µ—Ä–µ–∂–µ–≤–∞ —ñ–∑–æ–ª—è—Ü—ñ—è, ‚Äú–ª–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–æ—á–æ–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏‚Äù.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –î–æ–¥–∞—Ç–∏ –∑–º—ñ–Ω–Ω—ñ allowlist/SG reference, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —ó—Ö —É aws_security_group —ñ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ —á–µ—Ä–µ–∑ tfsec/checkov.

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 3: –ù–µ–º–∞—î –∑–º—ñ–Ω–Ω–∏—Ö –¥–ª—è —Ç–µ–≥—ñ–≤/–∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—ó ‚Üí —Å–ª–∞–±–∫–∞ –≤–∏–¥–∏–º—ñ—Å—Ç—å —Ä–µ—Å—É—Ä—Å—ñ–≤ –¥–ª—è –∞—É–¥–∏—Ç—É

–§–∞–π–ª: variables.tf
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: –í IaC –Ω–µ –∑–∞–∫–ª–∞–¥–µ–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è —Ç–µ–≥—ñ–≤ (env/owner/app). –ë–µ–∑ —Ü—å–æ–≥–æ –Ω–µ–º–∞—î —Å–∏–≥–Ω–∞–ª—É —ñ–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü—ñ—ó —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: –°–∏–≥–Ω–∞–ª–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó, –∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω—ñ—Å—Ç—å.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –î–æ–¥–∞—Ç–∏ tags map variable, –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –¥–æ —Ä–µ—Å—É—Ä—Å—ñ–≤, –¥–æ–¥–∞—Ç–∏ policy ‚Äútags required‚Äù.

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 4: –ù–µ–º–∞—î –∑–º—ñ–Ω–Ω–∏—Ö –¥–ª—è VPC/–∑–æ–Ω ‚Üí –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –Ω–µ –∑–∞–¥–∞—î –º–µ–∂—ñ —ñ–∑–æ–ª—è—Ü—ñ—ó

–§–∞–π–ª: variables.tf
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: –í—ñ–¥—Å—É—Ç–Ω—ñ vpc_id, subnet-—ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏ —á–∏ —ñ–Ω—à—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–æ–Ω—É–≤–∞–Ω–Ω—è. –ë–µ–∑ —Ü—å–æ–≥–æ –≤–∞–∂–∫–æ –≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏ —ñ–∑–æ–ª—è—Ü—ñ—é —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –º–µ–∂—ñ.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: –Ü–∑–æ–ª—è—Ü—ñ—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ (–º–µ—Ä–µ–∂–µ–≤–∞), —Å–∏–≥–Ω–∞–ª–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –î–æ–¥–∞—Ç–∏ vpc_id/subnets –∑–º—ñ–Ω–Ω—ñ, –ø—Ä–∏–≤‚Äô—è–∑–∞—Ç–∏ SG –¥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ VPC, –¥–æ–¥–∞—Ç–∏ policy –ø—Ä–æ—Ç–∏ default VPC.

üî¥ –ü—Ä–æ–±–ª–µ–º–∞ 5: –ù–µ–º–∞—î ‚Äúpolicy-—Å–∏–≥–Ω–∞–ª—ñ–≤‚Äù –¥–ª—è IaC (–ø—Ä–∏–≤‚Äô—è–∑–∫–∏ –¥–æ tfsec/checkov/OPA) ‚Üí –∑–º—ñ–Ω–∏ –º–æ–∂—É—Ç—å –ø—Ä–æ–π—Ç–∏ –±–µ–∑ –∫–æ–Ω—Ç—Ä–æ–ª—é

–§–∞–π–ª: variables.tf
üóíÔ∏è –ü–æ—è—Å–Ω–µ–Ω–Ω—è: –ù–∞–≤—ñ—Ç—å –∑ IaC, –±–µ–∑ –≤–∏–∑–Ω–∞—á–µ–Ω–∏—Ö –ø–æ–ª—ñ—Ç–∏–∫ (—â–æ –¥–æ–∑–≤–æ–ª–µ–Ω–æ/–∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ) –∑–º—ñ–Ω–Ω—ñ —Å–∞–º—ñ –Ω–µ –≥–∞—Ä–∞–Ω—Ç—É—é—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å. –ü–æ—Ç—Ä—ñ–±–Ω—ñ –ø—Ä–∞–≤–∏–ª–∞, —è–∫—ñ —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç—É—é—Ç—å —Ü—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏.
üìå –†–æ–∑–¥—ñ–ª/–ø–∞—Ç–µ—Ä–Ω –∫–æ–Ω—Å–ø–µ–∫—Ç—É: Secure by Design: —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤, Policy-as-Code, ‚Äú–≥–µ–π—Ç–∏ ‚Äî –≥–∞—Ä–∞–Ω—Ç–∏‚Äù.
‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –î–æ–¥–∞—Ç–∏ policy-as-code –¥–ª—è Terraform (OPA/Conftest –∞–±–æ checkov custom), –∑—Ä–æ–±–∏—Ç–∏ —Ü–µ required —É CI.
